"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[734],{8777:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1601),o=n.n(r),c=n(6314),a=n.n(c)()(o());a.push([e.id,".custom-select-container {\n  position: relative;\n  width: 10vw;\n  font-size: 3vh;\n}\n.custom-select {\n  border: 1px solid #ccc;\n  padding: 1vh;\n  cursor: pointer;\n  border-radius: 0.2vw;\n  background-color: #fff;\n  display: flex;\n}\n.custom-select .triangle {\n  margin-left: auto;\n  margin-top: 0.5vh;\n  width: 3vh;\n  height: 3vh;\n}\n.custom-select-options {\n  border: 1px solid #ccc;\n  position: absolute;\n  background-color: #fff;\n  border-radius: 0.2vw;\n  z-index: 1000;\n}\n.custom-select-option {\n  padding: 10px;\n  cursor: pointer;\n}\n.custom-select-option:hover {\n  background-color: #f0f0f0;\n}\n",""]);const i=a},3609:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1601),o=n.n(r),c=n(6314),a=n.n(c)()(o());a.push([e.id,".apply {\n  margin-top: 2vh;\n  margin: 1vh;\n  width: 25vh;\n  height: 5vh;\n  border-radius: 2.5vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.apply p {\n  font-size: 2.5vh;\n  margin: 0;\n}\n.notloading {\n  background-color: #B8EE91;\n}\n.loading {\n  background-color: #acccab;\n}\n.vanish {\n  display: none;\n}\n.editor-menu {\n  display: flex;\n  padding: 2vh;\n}\n.notAuth {\n  margin: 2vh;\n  font-size: 2vh;\n}\n",""]);const i=a},9734:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Oe});var r=n(6540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return t.apply(n,[].concat(o,r))}}}function f(e){return{}.toString.call(e).includes("Object")}function g(e){return"function"==typeof e}var p=d((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),h=function(e,t){return f(t)||p("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&p("changeField"),t},m=function(e){g(e)||p("selectorType")},v=function(e){g(e)||f(e)||p("handlerType"),f(e)&&Object.values(e).some((function(e){return!g(e)}))&&p("handlersType")},y=function(e){var t;e||p("initialIsRequired"),f(e)||p("initialType"),t=e,Object.keys(t).length||p("initialContent")};function b(e,t){return g(t)?t(e.current):t}function w(e,t){return e.current=s(s({},e.current),t),t}function O(e,t,n){return g(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}const E={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(e),v(t);var n={current:e},r=d(O)(n,t),o=d(w)(n),c=d(h)(e),a=d(b)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return m(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(r,o,c,a)(e)}]}};var j,S={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},k=(j=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.length>=j.length?j.apply(this,r):function(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e.apply(t,[].concat(r,o))}})(S);const M={config:function(e){return e||k("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||k("configType"),e.urls?(console.warn(S.deprecation),{paths:{vs:e.urls.monacoBase}}):e;var t}},P=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),a(a({},t),n)};var A={type:"cancelation",msg:"operation is manually canceled"};const I=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(A):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n};var R,C=function(e){if(Array.isArray(e))return e}(R=E.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,r=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(n=(c=a.next()).done)&&(t.push(c.value),2!==t.length);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}}(R)||function(e){if(e){if("string"==typeof e)return i(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,2):void 0}}(R)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),T=C[0],x=C[1];function N(e){return document.body.appendChild(e)}function L(e){var t,n,r=T((function(e){return{config:e.config,reject:e.reject}})),o=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return o.onload=function(){return e()},o.onerror=r.reject,o}function z(){var e=T((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){D(t),e.resolve(t)}),(function(t){e.reject(t)}))}function D(e){T().monaco||x({monaco:e})}var V=new Promise((function(e,t){return x({resolve:e,reject:t})})),q={config:function(e){var t=M.config(e),n=t.monaco,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["monaco"]);x((function(e){return{config:P(e.config,r),monaco:n}}))},init:function(){var e=T((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(x({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),I(V);if(window.monaco&&window.monaco.editor)return D(window.monaco),e.resolve(window.monaco),I(V);!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(N,L)(z)}return I(V)},__getMonacoInstance:function(){return T((function(e){return e.monaco}))}};const _=q;var F={display:"flex",position:"relative",textAlign:"initial"},B={width:"100%"},U={display:"none"},J={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Y=function({children:e}){return r.createElement("div",{style:J.container},e)},G=(0,r.memo)((function({width:e,height:t,isEditorReady:n,loading:o,_ref:c,className:a,wrapperProps:i}){return r.createElement("section",{style:{...F,width:e,height:t},...i},!n&&r.createElement(Y,null,o),r.createElement("div",{ref:c,style:{...B,...!n&&U},className:a}))})),W=function(e){(0,r.useEffect)(e,[])},Z=function(e,t,n=!0){let o=(0,r.useRef)(!0);(0,r.useEffect)(o.current||!n?()=>{o.current=!1}:e,t)};function $(){}function H(e,t,n,r){return function(e,t){return e.editor.getModel(K(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?K(e,r):void 0)}(e,t,n,r)}function K(e,t){return e.Uri.parse(t)}(0,r.memo)((function({original:e,modified:t,language:n,originalLanguage:o,modifiedLanguage:c,originalModelPath:a,modifiedModelPath:i,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:u=!1,theme:s="light",loading:d="Loading...",options:f={},height:g="100%",width:p="100%",className:h,wrapperProps:m={},beforeMount:v=$,onMount:y=$}){let[b,w]=(0,r.useState)(!1),[O,E]=(0,r.useState)(!0),j=(0,r.useRef)(null),S=(0,r.useRef)(null),k=(0,r.useRef)(null),M=(0,r.useRef)(y),P=(0,r.useRef)(v),A=(0,r.useRef)(!1);W((()=>{let e=_.init();return e.then((e=>(S.current=e)&&E(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>j.current?function(){let e=j.current?.getModel();l||e?.original?.dispose(),u||e?.modified?.dispose(),j.current?.dispose()}():e.cancel()})),Z((()=>{if(j.current&&S.current){let t=j.current.getOriginalEditor(),r=H(S.current,e||"",o||n||"text",a||"");r!==t.getModel()&&t.setModel(r)}}),[a],b),Z((()=>{if(j.current&&S.current){let e=j.current.getModifiedEditor(),r=H(S.current,t||"",c||n||"text",i||"");r!==e.getModel()&&e.setModel(r)}}),[i],b),Z((()=>{let e=j.current.getModifiedEditor();e.getOption(S.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],b),Z((()=>{j.current?.getModel()?.original.setValue(e||"")}),[e],b),Z((()=>{let{original:e,modified:t}=j.current.getModel();S.current.editor.setModelLanguage(e,o||n||"text"),S.current.editor.setModelLanguage(t,c||n||"text")}),[n,o,c],b),Z((()=>{S.current?.editor.setTheme(s)}),[s],b),Z((()=>{j.current?.updateOptions(f)}),[f],b);let I=(0,r.useCallback)((()=>{if(!S.current)return;P.current(S.current);let r=H(S.current,e||"",o||n||"text",a||""),l=H(S.current,t||"",c||n||"text",i||"");j.current?.setModel({original:r,modified:l})}),[n,t,c,e,o,a,i]),R=(0,r.useCallback)((()=>{!A.current&&k.current&&(j.current=S.current.editor.createDiffEditor(k.current,{automaticLayout:!0,...f}),I(),S.current?.editor.setTheme(s),w(!0),A.current=!0)}),[f,s,I]);return(0,r.useEffect)((()=>{b&&M.current(j.current,S.current)}),[b]),(0,r.useEffect)((()=>{!O&&!b&&R()}),[O,b,R]),r.createElement(G,{width:p,height:g,isEditorReady:b,loading:d,_ref:k,className:h,wrapperProps:m})}));var Q=new Map,X=(0,r.memo)((function({defaultValue:e,defaultLanguage:t,defaultPath:n,value:o,language:c,path:a,theme:i="light",line:l,loading:u="Loading...",options:s={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:g=!1,width:p="100%",height:h="100%",className:m,wrapperProps:v={},beforeMount:y=$,onMount:b=$,onChange:w,onValidate:O=$}){let[E,j]=(0,r.useState)(!1),[S,k]=(0,r.useState)(!0),M=(0,r.useRef)(null),P=(0,r.useRef)(null),A=(0,r.useRef)(null),I=(0,r.useRef)(b),R=(0,r.useRef)(y),C=(0,r.useRef)(),T=(0,r.useRef)(o),x=function(e){let t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current}(a),N=(0,r.useRef)(!1),L=(0,r.useRef)(!1);W((()=>{let e=_.init();return e.then((e=>(M.current=e)&&k(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>P.current?(C.current?.dispose(),g?f&&Q.set(a,P.current.saveViewState()):P.current.getModel()?.dispose(),void P.current.dispose()):e.cancel()})),Z((()=>{let r=H(M.current,e||o||"",t||c||"",a||n||"");r!==P.current?.getModel()&&(f&&Q.set(x,P.current?.saveViewState()),P.current?.setModel(r),f&&P.current?.restoreViewState(Q.get(a)))}),[a],E),Z((()=>{P.current?.updateOptions(s)}),[s],E),Z((()=>{!P.current||void 0===o||(P.current.getOption(M.current.editor.EditorOption.readOnly)?P.current.setValue(o):o!==P.current.getValue()&&(L.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),P.current.pushUndoStop(),L.current=!1))}),[o],E),Z((()=>{let e=P.current?.getModel();e&&c&&M.current?.editor.setModelLanguage(e,c)}),[c],E),Z((()=>{void 0!==l&&P.current?.revealLine(l)}),[l],E),Z((()=>{M.current?.editor.setTheme(i)}),[i],E);let z=(0,r.useCallback)((()=>{if(A.current&&M.current&&!N.current){R.current(M.current);let r=a||n,u=H(M.current,o||e||"",t||c||"",r||"");P.current=M.current?.editor.create(A.current,{model:u,automaticLayout:!0,...s},d),f&&P.current.restoreViewState(Q.get(r)),M.current.editor.setTheme(i),void 0!==l&&P.current.revealLine(l),j(!0),N.current=!0}}),[e,t,n,o,c,a,s,d,f,i,l]);return(0,r.useEffect)((()=>{E&&I.current(P.current,M.current)}),[E]),(0,r.useEffect)((()=>{!S&&!E&&z()}),[S,E,z]),T.current=o,(0,r.useEffect)((()=>{E&&w&&(C.current?.dispose(),C.current=P.current?.onDidChangeModelContent((e=>{L.current||w(P.current.getValue(),e)})))}),[E,w]),(0,r.useEffect)((()=>{if(E){let e=M.current.editor.onDidChangeMarkers((e=>{let t=P.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=M.current.editor.getModelMarkers({resource:t});O?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[E,O]),r.createElement(G,{width:p,height:h,isEditorReady:E,loading:u,_ref:A,className:m,wrapperProps:v})})),ee=n(7767),te=n(5072),ne=n.n(te),re=n(7825),oe=n.n(re),ce=n(7659),ae=n.n(ce),ie=n(5056),le=n.n(ie),ue=n(540),se=n.n(ue),de=n(1113),fe=n.n(de),ge=n(3609),pe={};pe.styleTagTransform=fe(),pe.setAttributes=le(),pe.insert=ae().bind(null,"head"),pe.domAPI=oe(),pe.insertStyleElement=se(),ne()(ge.A,pe),ge.A&&ge.A.locals&&ge.A.locals;var he=n(8777),me={};me.styleTagTransform=fe(),me.setAttributes=le(),me.insert=ae().bind(null,"head"),me.domAPI=oe(),me.insertStyleElement=se(),ne()(he.A,me),he.A&&he.A.locals&&he.A.locals;const ve=({options:e,selectedOption:t,onChange:n})=>{const[o,c]=(0,r.useState)(!1);return r.createElement("div",{className:"custom-select-container"},r.createElement("div",{className:"custom-select",onClick:()=>c(!o)},e.find((e=>e.value===t))?.label||"Select an option",r.createElement("img",{className:"triangle",src:"https://cdn0.iconfinder.com/data/icons/arrow-153/20/triangle_bottom-1024.png"})),o&&r.createElement("div",{className:"custom-select-options"},e.map((e=>r.createElement("div",{key:e.value,className:"custom-select-option",onClick:()=>{return t=e.value,n(t),void c(!1);var t}},e.label)))))};var ye=n(1083);const be=({taskState:e})=>{const[t,n]=(0,r.useState)("cpp"),o=(0,ee.zy)().pathname.split("/"),[c,a]=(0,r.useState)(),[i,l]=(0,r.useState)(!1),[u,s]=(0,r.useState)(localStorage.getItem("isLogged"));(0,r.useEffect)((()=>{switch(t){case"py":a(localStorage.getItem(t+o[o.length-1])||e.patterns.python);break;case"cpp":a(localStorage.getItem(t+o[o.length-1])||e.patterns.cpp);break;case"go":a(localStorage.getItem(t+o[o.length-1])||e.patterns.go);break;default:a("")}}),[t,e]);const d=(0,ee.Zp)();return localStorage.getItem("username"),r.createElement("div",{className:"CodeEditor"},r.createElement("div",{className:"editor-menu"},r.createElement(ve,{options:[{value:"cpp",label:"C++"},{value:"py",label:"Python"},{value:"go",label:"Go"}],selectedOption:t,onChange:e=>{n(e)}}),"true"===u?r.createElement("div",{className:"apply "+(i?"loading":"notloading"),onClick:()=>{i?console.log("testing..."):(()=>{localStorage.setItem(t+o[o.length-1],c);const n=new WebSocket("http://45.82.153.53:1234/ws");l(!0);const a=()=>{console.log("Sending code..."),n.send(JSON.stringify({code:c,lang:t,task_name:e.name,token:localStorage.getItem("accessToken")}))};n.onopen=()=>{a()},n.onmessage=e=>{console.log(e.data);const t=JSON.parse(e.data);400===t.status?(localStorage.setItem("isLogged","false"),(async e=>{try{const t=await ye.A.post("http://45.82.153.53:8000/api/token/refresh/",{refresh:e});localStorage.setItem("accessToken",t.data.access),localStorage.setItem("isLogged","true")}catch(e){}})(localStorage.getItem("refreshToken")).then((()=>{"true"===localStorage.getItem("isLogged")?a():(0,r.startTransition)((()=>{d("/auth")}))}))):"test"===t.stage&&l(!1)}})()}},r.createElement("p",null,"Run")):r.createElement("div",{className:"notAuth"},"You need to log in to send your solution...")),r.createElement(X,{height:"50vh",width:"50vh",defaultLanguage:t,value:c,onChange:e=>{void 0!==e&&a(e)}}))};n(2832);const we={name:"",patterns:{python:"",cpp:"",go:""},desc:"",cat:0},Oe=()=>{const[e,t]=(0,r.useState)(we),n=(0,ee.zy)().pathname.split("/");return(0,r.useEffect)((()=>{(async e=>await ye.A.get("http://45.82.153.53:8000/code/"+e+"/"))(n[n.length-1]).then((e=>{t(e.data)}))}),[]),r.createElement("div",{className:"taskSolver"},r.createElement("div",{className:"leftside"},r.createElement("div",{className:"taskDescription"},r.createElement("h1",null,e.name),r.createElement("p",{onClick:()=>{console.log(e.patterns.python)}},e.desc),r.createElement("h2",null,"Limits"),r.createElement("div",{className:"limits"},r.createElement("p",null,"Time: ","10s"),r.createElement("p",null,"Memory: ","1488 kB"))),r.createElement("div",{className:"testCases"},r.createElement("h1",null,"Test cases"),r.createElement("div",{className:"casesList"}))),r.createElement("div",{className:"rightside"},r.createElement(be,{taskState:e})))}}}]);