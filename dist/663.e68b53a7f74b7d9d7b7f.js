"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[663],{3541:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(1601),s=n.n(a),r=n(6314),o=n.n(r)()(s());o.push([e.id,".auth {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.auth p {\n  font-size: 4vh;\n  margin-top: 6vh;\n}\n.auth .small {\n  margin: 0;\n  color: #7E7E7E;\n  font-size: 2vh;\n  margin-left: auto;\n}\n.auth input {\n  margin: 0;\n  padding: 1vh;\n  border-radius: 3.3vh;\n  border: 0.1vh solid black;\n  width: 33vh;\n  height: 5vh;\n  background-color: #F1F1F1;\n  font-size: 2.5vh;\n}\n.auth .field {\n  margin-top: 3vh;\n}\n.auth .field p {\n  font-size: 2.5vh;\n  margin: 0;\n}\n.auth .field .small {\n  margin: 1vh;\n  font-size: 2vh;\n}\n.auth .signinButton {\n  margin-top: 3vh;\n  width: 25vh;\n  height: 5vh;\n  border-radius: 2.5vh;\n  background-color: #B8EE91;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.auth .signinButton p {\n  font-size: 2.5vh;\n  margin: 0;\n}\n.auth .altSign {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 2vh;\n}\n.auth .altSign .logo {\n  width: 7vh;\n  height: 4vh;\n}\n.auth .errorbox {\n  font-size: 2vh;\n  width: 25vh;\n  height: 4vh;\n  color: red;\n}\n.auth .errorp {\n  margin-top: 1vh;\n  font-size: 2vh;\n}\n",""]);const l=o},6716:(e,t,n)=>{n.d(t,{OZ:()=>o,Vi:()=>l,tw:()=>r});var a=n(1083),s=n(9327);const r=(e,t)=>async n=>{try{n(s.I.actions.userFetchProcess());const r=await a.A.post("http://45.82.153.53:8000/account/login/",{username:e,password:t});n(s.I.actions.userFetchSuccess()),localStorage.setItem("accessToken",r.data.access),localStorage.setItem("refreshToken",r.data.refresh),localStorage.setItem("username",e),console.log(localStorage.getItem("accessToken")),console.log(localStorage.getItem("refreshToken"))}catch(e){n(s.I.actions.userFetchError(e.message))}},o=(e,t,n)=>async r=>{try{r(s.I.actions.userFetchProcess());const o=await a.A.post("http://45.82.153.53:8000/account/registration/",{username:e,password:t,email:n});r(s.I.actions.userFetchSuccess()),localStorage.setItem("accessToken",o.data.access),localStorage.setItem("refreshToken",o.data.refresh),localStorage.setItem("username",e)}catch(e){r(s.I.actions.userFetchError(e.message))}},l=e=>async t=>{try{const n={headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}},r={refresh_token:e};t(s.I.actions.userLogOut()),localStorage.clear(),localStorage.setItem("isLogged","false"),await a.A.post("http://45.82.153.53:8000/account/logout/",r,n)}catch(e){}}},3663:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var a=n(6540),s=n(5072),r=n.n(s),o=n(7825),l=n.n(o),c=n(7659),i=n.n(c),u=n(5056),h=n.n(u),m=n(540),g=n.n(m),d=n(1113),p=n.n(d),f=n(3541),v={};v.styleTagTransform=p(),v.setAttributes=h(),v.insert=i().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=g(),r()(f.A,v),f.A&&f.A.locals&&f.A.locals;var E=n(7767),w=n(6716),S=n(5583);const y=()=>{const e=(0,S.j)(),{isloading:t,error:n,isLogged:s}=(0,S.G)((e=>e.loginReducer)),[r,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[g,d]=(0,a.useState)("none"),p=(0,E.Zp)();return(0,a.useEffect)((()=>{s&&(localStorage.setItem("isLogged","true"),(0,a.startTransition)((()=>{p("/")})))}),[s]),(0,a.useEffect)((()=>{""!==n&&d("incorrect")}),[n]),a.createElement("div",{className:"auth"},a.createElement("p",null,"Please create account"),a.createElement("div",{className:"input_fields"},a.createElement("div",{className:"login field"},a.createElement("p",null,"Your name"),a.createElement("input",{onChange:e=>{u(e.target.value)}})),a.createElement("div",{className:"login field"},a.createElement("p",null,"Your email"),a.createElement("input",{onChange:e=>{m(e.target.value)}})),a.createElement("div",{className:"password field"},a.createElement("p",null,"Your password"),a.createElement("input",{type:"password",onChange:e=>{o(e.target.value)}})),a.createElement("div",{className:"password field"},a.createElement("p",null,"Repeat your password"),a.createElement("input",{type:"password",onChange:e=>{c(e.target.value)}}))),a.createElement("div",{className:"errorbox"},a.createElement("p",{className:"errorp",style:{display:"none"===g?"none":"block"}},(e=>{switch(e){case"none":return"";case"null":return"All fields must not be empty";case"different passwords":return"Passwords are not the same";case"incorrect email":return"Email has unknown format";case"incorrect":return"Username is already taken"}})(g))),a.createElement("div",{className:"signinButton",onClick:()=>{((e,t,n,a)=>{if(""!==e&&""!==t&&""!==a&&""!==n)if(e===t){if(n.split("@").length>1&&n.split(".").length>1)return d("none"),!0;d("incorrect email")}else d("different passwords");else d("null");return!1})(r,l,h,i)&&e((0,w.OZ)(i,r,h))}},a.createElement("p",null,"Create account")),a.createElement("div",{className:"altSign"},a.createElement("p",{className:"small"},"Or sign up via"),a.createElement("img",{src:"https://polygon.readthedocs.io/en/latest/_images/github_logo.png",className:"github logo"})))}}}]);